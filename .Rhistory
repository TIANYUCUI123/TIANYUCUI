# clear console#
cat("\014")
# clear workspace#
rm(list=ls())
# set working directory #
setwd("C:/Users/cuiti/Master Study/Second Semester/econometrics/TIANYUCUI")
# import the database for question 1#
library(readr)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
# question1.1:observation of student#
nrow(datstu)
School <- datstu[,5:10]
View(School)
School <- datstu[Nschool]
vec1 <- c(as.matrix(School))
Nschool<-unique(vec1)
#replace Nschool by dropping NA in the data set#
Nschool <- Nschool[ !is.na(Nschool ) ]
length(Nschool)
Program<-datstu[,11:16]
View(Program)
Program<-datstu[,11:16]
vec2 <- c(as.matrix(Program))
Nprogram<-unique(vec2)
Nprogram<-Nprogram[ !is.na( Nprogram)]
length(Nprogram)
Choice1<- cbind(vec1,vec2)
Choice1<-unique(Choice1)
Choice1<-na.omit(Choice1)
nrow(Choice1)
Score <- c("score")
Score<-datstu[Score]
Score<- as.vector(Score)
#number of rows in overal database#
nrow(Score)
#number of rows that omit the missing values#
Scorefull<-na.omit(Score)
nrow(Scorefull)
#the difference should be the number of missing values#
nrow(Score)-nrow(Scorefull)
Choice1<- cbind(vec1,vec2)
Choice1<-unique(Choice1)
Choice1<-na.omit(Choice1)
View(Choice1)
datsss<- datss[!is.na(datsss$schoolname), ]
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
#Y<-merge(datsss,Choice1,by="schoolcode")
datsss<- datsss[!is.na(datsss$schoolname), ]
View(datsss)
datss<-datssss[!is.na(datsss$schooname),]
datsss<-unique(datsss)
datsss<-datsss[!is.na(datsss$schooname),]
datsss<-unique(datsss)
View(datsss)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<-datsss[!is.na(datsss$schooname),]
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
View(datsss)
m2 <- merge(Choice1, datsss , by.x = "vec1", by.y = "schoolname")
View(m2)
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolname")
View(m2)
#merge with the choice#
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(m2)
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss<-na.omit(datsss, cols="X")
View(datsss)
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
View(datsss)
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(m2)
library(readr)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(m2)
View(m2)
library(readr)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
sss$cutoff<-NA
sss$quality<-NA
sss$size<-NA
unique(sss)
View(sss)
sss[order( sss[,1:2] ),]
View(sss)
datstu<- datstu[!is.na(datstu$srankplace), ]
datstu<- datstu[!is.na(datstu$rankplace), ]
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
View(datstu)
datstu<- datstu[!is.na(datstu$rankplace), ]
# clear console#
cat("\014")
# clear workspace#
rm(list=ls())
# set working directory #
setwd("C:/Users/cuiti/Master Study/Second Semester/econometrics/TIANYUCUI")
# import the database for question 1#
library(readr)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
# question1.1:observation of student#
nrow(datstu)
datstu<- datstu[!is.na(datstu$rankplace), ]
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
View(datstu)
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
library(dplyr)
install.packages("dplyr")
datstu<- filter(datstu, rankplace != "99")
View(datstu)
datstu[datstu$rankplace!=99, ]
View(datstu)
datstu[,datstu$rankplace!=99]
datstu[datstu$rankplace!=99,]
View(datstu)
tstu<-datstu[datstu$rankplace!=99,]
View(tstu)
View(datstu)
match the ranking with the schoolcode#
datstu$schoolad<-datstu[X,datstu$rankplace+4]
datstu$schoolad<-datstu[datstu$X,datstu$rankplace+4]
#match the ranking with the schoolcode#
datstu$schoolad<-datstu[1:160,935,datstu$rankplace+4]
View(datstu)
datstu<-datstu[datstu$rankplace!=99,]
View(datstu)
datstu$schoolad<-datstu[1:139224,datstu$rankplace+4]
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
library(readr)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
View(datstu)
# clear console#
cat("\014")
# clear workspace#
rm(list=ls())
# set working directory #
setwd("C:/Users/cuiti/Master Study/Second Semester/econometrics/TIANYUCUI")
# import the database for question 1#
library(readr)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
# question1.1:observation of student#
nrow(datstu)
# question1.2:number of schools #
#select the schoolcode varaibles#
Nschool<-c("schoolcode1","schoolcode2","schoolcode3","schoolcode4","schoolcode5","schoolcode6")
School <- datstu[,5:10]
vec1 <- c(as.matrix(School))
Nschool<-unique(vec1)
#replace Nschool by dropping NA in the data set#
Nschool <- Nschool[ !is.na(Nschool ) ]
length(Nschool)
# question1.3:number of programs#
Nprogram<-c("choicepgm1","choicepgm2","choicepgm3","choicepgm4","choicepgm5","choicepgm6")
Program<-datstu[Nprogram]
vec2 <- c(as.matrix(Program))
Nprogram<-unique(vec2)
Nprogram<-Nprogram[ !is.na( Nprogram)]
length(Nprogram)
# question 1.4: number of choices#
Choice1<- cbind(vec1,vec2)
Choice1<-unique(Choice1)
Choice1<-na.omit(Choice1)
nrow(Choice1)
library(readr)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
Choice1<- cbind(vec1,vec2)
Choice1<-unique(Choice1)
Choice1<-na.omit(Choice1)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss<- datsss[!duplicated(datsss[,c('schoolcode')]),]
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<- datsss[!duplicated(datsss[,c('schoolcode')]),]
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
datstu<-datstu[datstu$rankplace!=99,]
datstu<-datstu[datstu$rankplace!=99,]
#match the ranking with the schoolcode#
datstu$schoolad<-NULL
View(datstu)
# import the database for question 1#
library(readr)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
# question1.1:observation of student#
nrow(datstu)
datstu<-datstu[datstu$rankplace!=99,]
#match the ranking with the schoolcode#
datstu$schoolad<-NULL
View(datstu)
#match the ranking with the schoolcode#
datstu$schoolad<-NA
View(datstu)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
datstu<-datstu[datstu$rankplace!=99,]
#match the ranking with the schoolcode#
datstu$schoolad<-NA
View(datstu)
datstu<-datstu[datstu$rankplace!=99,]
View(datstu)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
View(datstu)
datstu<-datstu[datstu$rankplace!=99,]
datstu<-[!is.na(datstu$rankplace)]
datstu<-datstu[!is.na(datstu$rankplace)]
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
datstu<-datstu[!is.na(datstu$rankplace)]
datstu<-datstu[datstu$rankplace!=99]
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
datstu<-datstu[datstu$rankplace!=99]
datstu[datstu$rankplace!=99]
datstu<-datstu[!(datstu$rankplace==99 & datstu$rankplace==na),]
datstu<-datstu[!(datstu$rankplace==99 ,]
datstu<-datstu[!(datstu$rankplace==99 ]
datstu<-datstu[!datstu$rankplace==99,]
datstu<-datstu[,!datstu$rankplace==99]
datstu<- na.omit(datstu, cols="rankplace")
atstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
datstu<- na.omit(datstu, cols="rankplace")
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
datstu<-data.frame(datstu)
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
datstu<-datstu[!datstu$rankplace == "99", ]
datstu$schoolad<-NA
datstu$schoolad<-NA
for (i in 1:6){datstu$schoolad[which(schoolcode$rankplace==i)]==datstu[,i+4][which(datstu$rankplace==i)]}
for (i in 1:6){datstu$schoolad[which(datstu$rankplace==i)]==datstu[,i+4][which(datstu$rankplace==i)]}
datstu$schoolad<-NA
for (i in 1:6){datstu$schoolad[which(datstu$rankplace==i)]==datstu[,i+4][which(datstu$rankplace==i)]}
for (i in 1:6){datstu$schoolad[which(datstu&rankplace==i)]==datstu[,i+4][which(datstu$rankplace==i)]}
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
datstu<- na.omit(datstu, cols="rankplace")
datstu<-datstu[!datstu$rankplace == "99", ]
datstu$schoolad<-NA
for (i in 1:6){datstu$schoolad[which(datstu&rankplace==i)]==datstu[,i+4][which(datstu$rankplace==i)]}
for (i in 1:6){datstu$schoolad[which(datstu&rankplace==i)]==datstu[,i+4][which(datstu$rankplace==i)]}
for (i in 1:6){datstu$schoolad[which(datstu$rankplace==i)]==datstu[,i+4][which(datstu$rankplace==i)]}
for (i in 1:6){datstu$schoolad[which(datstu$rankplace==i)]==datstu[i+4,][which(datstu$rankplace==i)]}
datstu$schoolad<-1
datstu$schoolad<-NA
for (i in 1:6){
datstu$schoolad[datstu$rankplace==i]=datstu[,i+4]
}
datstu$schoolad<-NA
for (i in 1:6){
datstu$schoolad[datstu$rankplace==i]==datstu[,i+4]
}
datstu$schoolad<-NA
for (i in 1:6){
datstu$schoolad[which(datstu$rankplace==i)]=datstu[,i+4][which(datstu$rankplace==i)]
}
datstu$schoolad<-NA
for (i in 1:6){
datstu$schoolad[which(datstu$rankplace==i)]=datstu[,i+4][which(datstu$rankplace==i)]
}
for (i in 1:130110){
datstu$schoolad[i]=datstu[,i+4][which(datstu$rankplace==i)]
}
for (i in 1:130110){
datstu$schoolad[i]=datstu[i,i+4][which(datstu$rankplace==i)]
}
datstu$schoolad<-NA
for (i in 1:6){
datstu$schoolad[which(datstu$rankplace==i)]=datstu[which(datstu$rankplace==i,i+4)]}
datstu$schoolad<-NA
for (i in 1:nrow(datstu)){datstu$schoolad[i]=datstu[i,4+datstu$rankplace]}
datstu$schoolad<-NA
for (i in 1:dim(datstu)[1]) {
datstu$schoolad[i]=datstu[i,(datstu$rankplace+4)[i]]
}
admit_school=c()
for (i in 1:dim(datstu)[1]) {
admit_school[i]=datstu[i,(datstu$rankplace+4)[i]]
}
datstu=cbind(datstu,admit_school)
View(datstu)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
datstu<- na.omit(datstu, cols="rankplace")
datstu<-datstu[!datstu$rankplace == "99", ]
admit_school=c()
for (i in 1:dim(datstu)[1]) {
admit_school[i]=datstu[i,(datstu$rankplace+4)[i]]
}
datstu=cbind(datstu,admit_school)
admit_program=c()
for (i in 1:dim(datstu)[1]) {
admit_program[i]=datstu[i,(datstu$rankplace+10)[i]]
}
datstu=cbind(datstu,admit_program)
admit_school=matrix(na, nrow = nrow(datstu), ncol = 2)
colnames(datstu)[colnames(datstu)=="admit_school"] <- "schoolcode"
admit_school=c()
for (i in 1:dim(datstu)[1]) {
admit_school[i]=datstu[i,(datstu$rankplace+4)[i]]
}
datstu=cbind(datstu,admit_school)
colnames(datstu)[colnames(datstu)=="admit_school"] <- "schoolcode"
merge(sss,datstu,by.x = "vec1", by.y = "admit_school")
admit_program=data.frame()
for (i in 1:dim(datstu)[1]) {
admit_program[i]=datstu[i,(datstu$rankplace+4)[i]]
}
datstu$admit_program<-na
datstu$admit_program<-NA
datstu$admit_program<-NA
for (i in 1:dim(datstu)[1]) {
admit_program[i]=datstu[i,(datstu$rankplace+10)[i]]
}
