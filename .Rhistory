# clear console#
cat("\014")
# clear workspace#
rm(list=ls())
# set working directory #
setwd("C:/Users/cuiti/Master Study/Second Semester/econometrics/TIANYUCUI")
# import the database for question 1#
library(readr)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
# question1.1:observation of student#
nrow(datstu)
School <- datstu[,5:10]
View(School)
School <- datstu[Nschool]
vec1 <- c(as.matrix(School))
Nschool<-unique(vec1)
#replace Nschool by dropping NA in the data set#
Nschool <- Nschool[ !is.na(Nschool ) ]
length(Nschool)
Program<-datstu[,11:16]
View(Program)
Program<-datstu[,11:16]
vec2 <- c(as.matrix(Program))
Nprogram<-unique(vec2)
Nprogram<-Nprogram[ !is.na( Nprogram)]
length(Nprogram)
Choice1<- cbind(vec1,vec2)
Choice1<-unique(Choice1)
Choice1<-na.omit(Choice1)
nrow(Choice1)
Score <- c("score")
Score<-datstu[Score]
Score<- as.vector(Score)
#number of rows in overal database#
nrow(Score)
#number of rows that omit the missing values#
Scorefull<-na.omit(Score)
nrow(Scorefull)
#the difference should be the number of missing values#
nrow(Score)-nrow(Scorefull)
Choice1<- cbind(vec1,vec2)
Choice1<-unique(Choice1)
Choice1<-na.omit(Choice1)
View(Choice1)
datsss<- datss[!is.na(datsss$schoolname), ]
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
#Y<-merge(datsss,Choice1,by="schoolcode")
datsss<- datsss[!is.na(datsss$schoolname), ]
View(datsss)
datss<-datssss[!is.na(datsss$schooname),]
datsss<-unique(datsss)
datsss<-datsss[!is.na(datsss$schooname),]
datsss<-unique(datsss)
View(datsss)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<-datsss[!is.na(datsss$schooname),]
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
View(datsss)
m2 <- merge(Choice1, datsss , by.x = "vec1", by.y = "schoolname")
View(m2)
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolname")
View(m2)
#merge with the choice#
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(m2)
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss<-na.omit(datsss, cols="X")
View(datsss)
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
View(datsss)
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(m2)
library(readr)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
m2 <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(m2)
View(m2)
library(readr)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
sss$cutoff<-NA
sss$quality<-NA
sss$size<-NA
unique(sss)
View(sss)
sss[order( sss[,1:2] ),]
View(sss)
datstu<- datstu[!is.na(datstu$srankplace), ]
datstu<- datstu[!is.na(datstu$rankplace), ]
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
View(datstu)
datstu<- datstu[!is.na(datstu$rankplace), ]
# clear console#
cat("\014")
# clear workspace#
rm(list=ls())
# set working directory #
setwd("C:/Users/cuiti/Master Study/Second Semester/econometrics/TIANYUCUI")
# import the database for question 1#
library(readr)
datstu <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datstu.csv",na.string=c("","NA"))
# question1.1:observation of student#
nrow(datstu)
datstu<- datstu[!is.na(datstu$rankplace), ]
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
View(datstu)
datstu<-datstu[!apply(datstu,1,function(x) {any(x==99)})]
library(dplyr)
install.packages("dplyr")
datstu<- filter(datstu, rankplace != "99")
View(datstu)
datstu[datstu$rankplace!=99, ]
View(datstu)
datstu[,datstu$rankplace!=99]
datstu[datstu$rankplace!=99,]
View(datstu)
tstu<-datstu[datstu$rankplace!=99,]
View(tstu)
View(datstu)
match the ranking with the schoolcode#
datstu$schoolad<-datstu[X,datstu$rankplace+4]
datstu$schoolad<-datstu[datstu$X,datstu$rankplace+4]
#match the ranking with the schoolcode#
datstu$schoolad<-datstu[1:160,935,datstu$rankplace+4]
View(datstu)
datstu<-datstu[datstu$rankplace!=99,]
View(datstu)
datstu$schoolad<-datstu[1:139224,datstu$rankplace+4]
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<-unique(datsss)
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
