stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
stunew<-summaryBy(score~schoolcode+program,Fun=c(min,mean,length),data=stu)
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
View(size)
cutoffvec<-c(as.matrix(cutoff))
qualityvec<-c(as.matrix(cutoff))
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
cutoffvec<-c(as.matrix(cutoff))
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
qualityvec<-c(as.matrix(quality))
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
sizevec<-c(as.matrix(size))
merge(cutoffvec,qualityvec,sizevec)
head(cutoffvec,5)
hea(cutoffvec,10)
head(cutoffvec,10)
head(cutoffvec,30)
head(cutoffvec,50
head(cutoffvec,50)
cbind(cutoffvec,qualityvec,sizevec)
select<-cbind(cutoffvec,qualityvec,sizevec)
View(select)
View(datstu)
ID1<-rep(1,ncol(cutoff))
ID<-as.vector(ID)
ID1<-rep(1,ncol(cutoff))
ID1<-as.vector(ID1)
for (i in 1:nrow(cutoff)){ID1<-rep(i,ncol(cutoff))}
ID1<-as.vector(ID1)
View(ID1)
for (i in 1:nrow(cutoff)){ID1<-rep(1:i,ncol(cutoff))}
ID1<-as.vector(ID1)
View(ID1)
cutoff<-as.vector(cutoff)
ID1<-as.vector(ID1)
q<-cbind(cutoff,ID1)
View(q)
q<-q[with)q,order(ID1),]
q<-q[with(q,order(ID1)),]
q<-q[with(q, order(ID1)),]
q<-order(q)
q<-cbind(cutoff,ID1)
q<-order(q)
q <- q[order(ID),]
q <- q[order(ID1),]
ID1<-as.vector(ID1)
q<-cbind(cutoff,ID1)
View(q)
q[order(q$ID1),]
q<-cbind(cutoff,ID1)
q[order(q$ID1),]
q<-as.matrix(cbind(cutoff,ID1))
q[order(q$ID1),]
q[order(ID1),]
View(q)
q<-q[order(ID1),]
View(q)
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
for (i in 1:nrow(cutoff)){ID1<-rep(1:i,ncol(cutoff))}
cutoff1<-as.vector(cutoff)
ID1<-as.vector(ID1)
q<-as.matrix(cbind(cutoff1,ID1))
View(cutoff)
q$ID =1 <- "Age1"
cutoff[,0:1]
for (i in 0:column(cutoff)){cutoff<-rebind(cutoff[,i:i+1])}
for (i in 0:col(cutoff)){cutoff<-rebind(cutoff[,i:i+1])}
for (i in 0:col(cutoff)){cutoff<-rbind(cutoff[,i:i+1])}
View(cutoff)
cutoff1<-cutoff[,0:1]
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
stunew<-summaryBy(score~schoolcode+program,Fun=c(min,mean,length),data=stu)
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
View(quality)
colnames(cutoff)
colnames<-as.vector(colnames(cutoff))
View(colnames)
rep(colnames)
colnames<-rep(colnames,nrow(cutoff))
View(colnames)
`rownames<-as.vector(rownames(cutoff))
rownames<-as.vector(rownames(cutoff))
rownames<-as.vector(rownames(cutoff))
rownames<-as.vector(rownames(cutoff))
rownames<-rep(rownames,nrow(cutoff))
View(rc)
rc<cbind(rownames,colnames)
View(rc)
rc<cbind(rownames,colnames)
rc<cbind(rownames,colnames)
rc=cbind(rownames,colnames)
View(rc)
View(rolnames)
View(rownames)
ID3<-rep(rowsnames)
ID3<-rep(rownames)
cutoff<-cbind(cutoff,ID3)
ID3<-as.vector(rep(rownames))
cutoff<-cbind(cutoff,ID3)
View(cutoff)
cutoff<-cbind(cutoff,ID3)
for (i in 1:30){cutoff<-rebind(cutoff[,c(i,31)])}
cutoff<-cbind(cutoff,ID3)
for (i in 1:30){cutoff<-rbind(cutoff[,c(i,31)])}
cbind(cutoff,colnames)
cutoff<-cbind(cutoff,colnames)
View(cutoff)
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
colnames<-as.vector(colnames(cutoff))
cutoff<-cbind(cutoff,colnames)
View(cutoff)
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean
list(cutoff)
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
list(cutoff)
View(list(cutoff))
View(cutoff)
split(cutoff, col(cutoff))
split(cutoff,row(cutoff))
View(split(cutoff,col(cutoff)))
split(cutoff, rep(1:ncol(x), each = nrow(cutoff)))
split(cutoff, rep(1:ncol(cutoff), each = nrow(cutoff)))
as.vector(data.frame(cutoff))
cutoff<-as.vector(data.frame(cutoff))
View(cutoff)
split(cutoff, rep(1:ncol(cutoff), each = nrow(cutoff)))
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
split(cutoff, rep(1:ncol(cutoff), each = nrow(cutoff)))
cutoff1<-split(cutoff, rep(1:ncol(cutoff), each = nrow(cutoff)))
cutoff<-do.call("rbind", cutoff1)
View(cutoff)
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
cutoff1<-split(cutoff, rep(1:nrow(cutoff), each = ncol(cutoff)))
cutoff<-do.call("rbind", cutoff1)
View(cutoff)
d <- data.frame(i=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
score=as.vector(cutoff))
m = cbind(c(1,2,3),c(4,5,6),c(7,8,9))
row.names(m) = c('R1','R2','R3')
colnames(m) = c('C1','C2','C3')
d <- data.frame(i=rep(row.names(m),ncol(m)),
j=rep(colnames(m),each=nrow(m)),
score=as.vector(m))
View d
View (d)
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
d <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
score=as.vector(cutoff))
View(d)
d<-d[with(d, order(schoolcode)),]
View(d)
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
score=as.vector(quality))
quality<-cutoff[with(quality, order(schoolcode)),]
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
score=as.vector(quality))
quality<-cutoff[with(quality, order(schoolcode)),]
View(quality)
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
score=as.vector(cutoff))
View(cutoff)
cutoff <- cutoff[order(cutoff$col1),]
cutoff<-as.matrix(cutoff)
cutoff <- cutoff[order(cutoff$col1),]
cutoff <- cutoff[order(cutoff$col1),]
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
score=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
score=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
score=as.vector(size))
View(size)
View(size)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
#raarrange database to prepare for merge#
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
View(size)
View(cutoff)
View(size)
sss2<-cbind(cutoff,quality,size,by"schoolcode")
sss2<-cbind(cutoff,quality,size,by "schoolcode")
sss2<-cbind(cutoff,quality,size)
View(sss2)
sss2<-merge(cutoff,quality,size,by"schoolcode")
sss2<-merge(cutoff,quality,by"schoolcode")
sss2<-merge(cutoff,quality,size,by="schoolcode")
sss2<-merge(cutoff,quality,size,by.x="schoolcode",by.y="schoolcode",by.z="schoolcode")
View(sss2)
View(sss2)
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
#raarrange database to prepare for merge#
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
sss2<-cbind(cutoff,quality,size)
View(sss2)
keeps <- c("schoolcode", "cutoff","quality","size")
sss2<sss2[keeps]
sss2<-cbind(cutoff,quality,size)
keeps <- c("schoolcode", "cutoff","quality","size")
sss2<sss2[keeps]
sss2<-sss2[keeps]
View(sss2)
?left_join
sss2<-merge(cutoff,quality,size,by=c("col1","col2"),all.x = T)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
program=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
program=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
program=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
sss2<-merge(cutoff,quality,size,by=c("schoolcode","program"),all.x = T)
sss2<-merge(cutoff,quality,size,by=c("schoolcode","program"))
sss2<-merge(cutoff,quality,size,by="schoolcode"&"program")
library(dplyr)
install.packages("pillar", dependencies = FALSE)
install.packages("dplyr", dependencies = FALSE)
sss2<-left_join(cutoff , quality, by=c("schoolcode","program"))
library(dplyr)
library(dplyr)
library(pillar)
install.packages("pillar", dependencies = FALSE)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
View(cutoff)
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
View(cutoff)
ss2<-cbind(cutoff,quality,size)
View(ss2)
ss2 <- t( ss2 )
ss2<- unique( ss2 )
View(ss2)
ss2 <- t( ss2 )
ss2<- unique( ss2 )
ss2<- t( ss2 )
View(ss2)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
ss2<-cbind(cutoff,quality,size)
ss2 <- ss2[, !duplicated(colnames(ss2))]
View(ss2)
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
ss2<-cbind(cutoff,quality,size)
ss2 <- ss2[, !duplicated(colnames(ss2))]
View(ss2)
View(sss)
#merge the ss2 and  sss#
df = merge(sss, sss2, by.x = c("vec1", "vec2"), by.y = c("schoolcode", "j"))
data2<- merge(sss, sss2, by.x = c("vec1", "vec2"), by.y = c("schoolcode", "j"))
ss2 <- ss2[, !duplicated(colnames(ss2))]
ss2<-unique(ss2[,c('schoolcode','j')])
data2<- merge(sss, sss2, by.x = c("vec1", "vec2"), by.y = c("schoolcode", "j"))
sss$vec1<- with(sss, paste0(vec1, vec2))
View(sss)
ss2$schoolcode<- with(ss2, paste0(schoolcode, j))
#merge the ss2 and  sss#
data2<- merge(sss, sss2, by.x = "vec1", by.y = "schoolcode")
View(data2)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
ss2<-cbind(cutoff,quality,size)
ss2 <- ss2[, !duplicated(colnames(ss2))]
ss2<-unique(ss2[,c('schoolcode','j')])
sss$vec1<- with(sss, paste0(vec1, vec2))
ss2$schoolcode<- with(ss2, paste0(schoolcode, j))
data2<- merge(sss, sss2, by.x = "vec1", by.y = "schoolcode")
View(data2)
View(ss2)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
ss2<-cbind(cutoff,quality,size)
ss2 <- ss2[, !duplicated(colnames(ss2))]
ss2<-unique(ss2[,c('schoolcode','j')])
View(ss2)
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
ss2<-cbind(cutoff,quality,size)
ss2 <- ss2[, !duplicated(colnames(ss2))]
View(ss2)
ss2<-cbind(cutoff,quality,size)
ss2 <- ss2[, !duplicated(colnames(ss2))]
View(sss2)
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
#raarrange database to prepare for merge#
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
ss2<-cbind(cutoff,quality,size)
View(ss2)
ss2 <- ss2[, !duplicated(colnames(ss2))]
View(ss2)
sss$vec1<- with(sss, paste0(vec1, vec2))
ss2$schoolcode<- with(ss2, paste0(schoolcode, j))
View(ss2)
data2<- merge(sss, sss2, by.x = "vec1", by.y = "schoolcode")
View(data2)
data2<- merge(sss, ss2, by.x = "vec1", by.y = "schoolcode")
stu<-c("X","score","agey","male","schoolcode","program")
stu<-datstu[stu]
stu<-stu[with(stu, order(schoolcode, program)),]
cutoff<-tapply(stu$score, list(stu$schoolcode, stu$program), min)
quality<-tapply(stu$score,list(stu$schoolcode,stu$program),mean)
size<-tapply(stu$score,list(stu$schoolcode,stu$program),length)
#raarrange database to prepare for merge#
cutoff <- data.frame(schoolcode=rep(row.names(cutoff),ncol(cutoff)),
j=rep(colnames(cutoff),each=nrow(cutoff)),
cutoff=as.vector(cutoff))
quality <- data.frame(schoolcode=rep(row.names(quality),ncol(quality)),
j=rep(colnames(quality),each=nrow(quality)),
quality=as.vector(quality))
size <- data.frame(schoolcode=rep(row.names(size),ncol(size)),
j=rep(colnames(size),each=nrow(size)),
size=as.vector(size))
ss2<-cbind(cutoff,quality,size)
ss2 <- ss2[, !duplicated(colnames(ss2))]
#merge the ss2 and  sss#
sss$vec1<- with(sss, paste0(vec1, vec2))
ss2$schoolcode<- with(ss2, paste0(schoolcode, j))
data2<- merge(sss, ss2, by.x = "vec1", by.y = "schoolcode")
View(data2)
data2<- merge(ss2, ss2, by.x = "schoolcode", by.y = "vec1")
data2<- merge(ss2, sss, by.x = "schoolcode", by.y = "vec1")
View(data2)
sss<-as.data.frame(sss)
ss3<-as.data.frame(ss2)
sss$vec1<- with(sss, paste0(vec1, vec2,sep=","))
View(sss)
sss$vec1<- with(sss, paste0(vec1, sep=",",vec2))
View(sss)
library(readr)
datsss <- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datsss.csv",na.string=c("","NA"))
datjss<- read.csv("C:/Users/cuiti/Master Study/Second Semester/econometrics/dat/datjss.csv",na.string=c("","NA"))
datsss<- datsss[!is.na(datsss$schoolname), ]
datsss<- datsss[!duplicated(datsss[,c('schoolcode')]),]
datsss$X <- NULL
#merge with the choice#
sss <- merge(Choice1, datsss, by.x = "vec1", by.y = "schoolcode")
View(sss)
sss$vec1<- with(sss, paste0(vec1, sep=",",vec2))
View(sss)
sss$vec1<- with(sss, paste0(vec1, sep=",",vec2))
ss2$schoolcode<- with(ss2, paste0(schoolcode,sep=",", j))
sss<-as.data.frame(sss)
ss3<-as.data.frame(ss2)
data2<- merge(ss2, sss, by.x = "schoolcode", by.y = "vec1")
data2<- merge(ss2, sss, by.x = "schoolcode", by.y = "vec1",all=TRUE)
View(data2)
data2<- na.omit(data2, cols="schoolname")
View(data2)
sss$vec1<- with(sss, paste0(vec1, sep=",",vec2))
ss2$schoolcode<- with(ss2, paste0(schoolcode,sep=",", j))
sss<-as.data.frame(sss)
ss3<-as.data.frame(ss2)
data2<- merge(ss2, sss, by.x = "schoolcode", by.y = "vec1",all=TRUE)
ss2 <- ss2[, !duplicated("j")]
sss$vec1<- with(sss, paste0(vec1, sep=",",vec2))
ss2$schoolcode<- with(ss2, paste0(schoolcode,sep=",", j))
sss<-as.data.frame(sss)
ss3<-as.data.frame(ss2)
data2<- merge(ss2, sss, by.x = "schoolcode", by.y = "vec1",all=TRUE)
data2 <- data2[, !duplicated("j")]
View(data2)
data2 <- data2[ -c(2,6) ]
View(data2)
colnames(data2)[colnames(data2)=="schoolcode"] <- "schoolprogram"
View(data2)
